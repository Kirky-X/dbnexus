# ğŸ“‹ TASK - Development Task Document

| ç‰ˆæœ¬ | æ—¥æœŸ | ä½œè€… | å˜æ›´å†…å®¹ |
| --- | --- | --- | --- |
| v1.0 | 2025-01-01 | Tech Lead | åˆå§‹ç‰ˆæœ¬ |
| v1.1 | 2025-01-15 | Tech Lead | æ ¹æ®ä¿®æ­£æ–‡æ¡£æ›´æ–°: æ˜ç¡®å®çš„helper attributesæœºåˆ¶ |

## 1. é¡¹ç›®è§„åˆ’

### 1.1 å¼€å‘å‘¨æœŸ

- **Phase 1 (MVP)**: Week 1-4 (æ ¸å¿ƒåŠŸèƒ½)
- **Phase 2 (Production Ready)**: Week 5-8 (ç”Ÿäº§ç‰¹æ€§)
- **Phase 3 (Enterprise Features)**: Week 9-12 (ä¼ä¸šåŠŸèƒ½)

### 1.2 å›¢é˜Ÿåˆ†å·¥å»ºè®®

- **æ ¸å¿ƒå¼€å‘**: 2äºº (è¿æ¥æ± ã€Sessionã€å®ç³»ç»Ÿ)
- **å·¥å…·å¼€å‘**: 1äºº (Migrationå·¥å…·ã€CLI)
- **æµ‹è¯•å·¥ç¨‹å¸ˆ**: 1äºº (æµ‹è¯•å¥—ä»¶ã€å‹æµ‹)
- **æ–‡æ¡£å·¥ç¨‹å¸ˆ**: 1äºº (APIæ–‡æ¡£ã€ç¤ºä¾‹ä»£ç )

------

## 2. Phase 1: MVPå¼€å‘ä»»åŠ¡ (Week 1-4)

### TASK-001: é¡¹ç›®è„šæ‰‹æ¶æ­å»º (âœ… å·²å®Œæˆ)

**ä¼˜å…ˆçº§**: P0 (é˜»å¡)
 **é¢„è®¡å·¥æ—¶**: 4å°æ—¶
 **è´Ÿè´£äºº**: æ ¸å¿ƒå¼€å‘ #1

**å­ä»»åŠ¡**:

-  åˆ›å»ºWorkspaceç»“æ„ âœ… å·²åˆ›å»º - dbnexus/ ç›®å½•ä¸‹æœ‰å®Œæ•´ç»“æ„
-  é…ç½®Cargo.tomlä¾èµ– âœ… å·²é…ç½® - sea-orm, tokio, serde, thiserror ç­‰ä¾èµ–å®Œæ•´
-  é…ç½®æ•°æ®åº“Feature Gateäº’æ–¥è§„åˆ™ âœ… å·²å®ç° - lib.rs ä¸­æœ‰å®Œæ•´ç¼–è¯‘æœŸäº’æ–¥æ£€æŸ¥
-  è®¾ç½®CI/CD (GitHub Actions) âœ… å·²å®ç° - .github/workflows/ci.yml é…ç½®å®Œæ•´
-  è®¾ç½®ä»£ç è´¨é‡å·¥å…· âœ… å·²å®ç° - rustfmt.toml å’Œ clippy.toml é…ç½®å­˜åœ¨

**éªŒæ”¶æ ‡å‡†**:

- âœ“ `cargo build --all-features` æˆåŠŸ âœ… å·²éªŒè¯
- âœ“ CIæµæ°´çº¿è¿è¡Œé€šè¿‡ âœ… å·²é…ç½®
- âœ“ ä»£ç æ ¼å¼ç»Ÿä¸€ âœ… å·²é…ç½®

**å®ç°æ–‡ä»¶**: [lib.rs](file:///home/project/dbnexus/dbnexus/src/lib.rs), Cargo.toml, .github/workflows/ci.yml, rustfmt.toml, clippy.toml

**æ£€æŸ¥ç»“æœ**:
- Workspace ç»“æ„å·²åˆ›å»º âœ…
- Cargo.toml ä¾èµ–é…ç½®å®Œæ•´ âœ…
- æ•°æ®åº“ç‰¹æ€§äº’æ–¥æ£€æŸ¥å·²å®ç° âœ…
- CI/CD é…ç½®å®Œæ•´ (check, clippy, test, doc ä»»åŠ¡) âœ…
- rustfmt å’Œ clippy é…ç½®å­˜åœ¨ âœ…

**ä¸‹ä¸€æ­¥è¡ŒåŠ¨**:
- ä¿æŒç°æœ‰é…ç½®ï¼Œå®šæœŸæ›´æ–°ä¾èµ–ç‰ˆæœ¬

------

### TASK-002: è¿æ¥æ± ç®¡ç†æ¨¡å— (âœ… å·²å®Œæˆ)

**ä¼˜å…ˆçº§**: P0
 **é¢„è®¡å·¥æ—¶**: 16å°æ—¶
 **è´Ÿè´£äºº**: æ ¸å¿ƒå¼€å‘ #1
 **ä¾èµ–**: TASK-001

**å­ä»»åŠ¡**:

-  å®ç°PoolConfigç»“æ„ âœ… å·²å®ç° - DbConfig ç»“æ„å®šä¹‰å®Œæ•´
-  å®ç°PoolManager âœ… å·²å®ç° - å®Œæ•´å®ç°
   - è¿æ¥åˆ›å»ºä¸åˆå§‹åŒ– âœ… å·²å®ç°
   - è¿æ¥è·å– (å¸¦è¶…æ—¶) âœ… å·²å®ç°
   - è¿æ¥å½’è¿˜ âœ… å·²å®ç°
   - å¥åº·æ£€æŸ¥ âœ… å·²å®ç° - check_connection_health() æ–¹æ³•
   - è¿æ¥æ± ç»Ÿè®¡ âœ… å·²å®ç° - PoolStatus å’Œ status() æ–¹æ³•
-  å®ç°é…ç½®åŠ è½½å™¨ âš ï¸ éƒ¨åˆ†å®ç° - from_env() å­˜åœ¨
   - ä»YAML/TOMLåŠ è½½ âŒ æœªå®ç°
   - ç¯å¢ƒå˜é‡è¦†ç›– âœ… å·²å®ç°
   - éªŒè¯å¿…å¡«å­—æ®µ âœ… å·²å®ç°
-  å®ç°é…ç½®è‡ªåŠ¨ä¿®æ­£ âœ… å·²å®ç° - auto_correct_config() æ–¹æ³•
-  ç¼–å†™å•å…ƒæµ‹è¯• âœ… å·²å®ç° - 4ä¸ªæµ‹è¯•å…¨éƒ¨é€šè¿‡

**éªŒæ”¶æ ‡å‡†**:

- âœ“ æ‰€æœ‰å•å…ƒæµ‹è¯•é€šè¿‡ âœ… - 4ä¸ªæµ‹è¯•å…¨éƒ¨é€šè¿‡ (TEST-U-020~023)
- âœ“ ä»£ç è¦†ç›–ç‡ > 85% âš ï¸ éƒ¨åˆ† - æœªéªŒè¯
- âœ“ æ”¯æŒSQLite/PostgreSQL/MySQL âš ï¸ éƒ¨åˆ† - æ¡†æ¶å­˜åœ¨

**å®ç°æ–‡ä»¶**: [pool/mod.rs](file:///home/project/dbnexus/dbnexus/src/pool/mod.rs), [config/mod.rs](file:///home/project/dbnexus/dbnexus/src/config/mod.rs)

**æ£€æŸ¥ç»“æœ**:
- DbConfig ç»“æ„åŒ…å«æ‰€æœ‰å¿…éœ€å­—æ®µ âœ…
- DbPool åŸºæœ¬å®ç°å®Œæ•´ âœ…
- get_session() æ–¹æ³•å®ç°æ­£ç¡® âœ…
- é…ç½®è‡ªåŠ¨ä¿®æ­£é€»è¾‘ âœ… å·²å®ç°
- å¥åº·æ£€æŸ¥æœºåˆ¶ âœ… å·²å®ç°
- å•å…ƒæµ‹è¯• âœ… - 4ä¸ªæµ‹è¯•é€šè¿‡

**ä¼˜å…ˆçº§**: P0
 **é¢„è®¡å·¥æ—¶**: 16å°æ—¶
 **è´Ÿè´£äºº**: æ ¸å¿ƒå¼€å‘ #1
 **ä¾èµ–**: TASK-001

**å­ä»»åŠ¡**:

-  å®ç°PoolConfigç»“æ„

```rust
  pub struct PoolConfig {
      pub url: String,
      pub max_connections: u32,
      pub min_connections: u32,
      pub idle_timeout: Duration,
      pub acquire_timeout: Duration,
  }
```

-  å®ç°PoolManager
   - è¿æ¥åˆ›å»ºä¸åˆå§‹åŒ–
   - è¿æ¥è·å– (å¸¦è¶…æ—¶)
   - è¿æ¥å½’è¿˜
   - å¥åº·æ£€æŸ¥
   - è¿æ¥æ± ç»Ÿè®¡
-  å®ç°é…ç½®åŠ è½½å™¨
   - ä»YAML/TOMLåŠ è½½
   - ç¯å¢ƒå˜é‡è¦†ç›–
   - éªŒè¯å¿…å¡«å­—æ®µ
-  å®ç°é…ç½®è‡ªåŠ¨ä¿®æ­£

```rust
  impl ConfigCorrector {
      pub async fn query_db_capacity(&self) -> Result<u32>;
      pub fn correct(&self, config: PoolConfig) -> (PoolConfig, Vec<Warning>);
  }
```

-  ç¼–å†™å•å…ƒæµ‹è¯•
   - TEST-U-001: è¿æ¥æ± åˆå§‹åŒ–
   - TEST-U-002: è¿æ¥è·å–ä¸å½’è¿˜
   - TEST-U-003: è¿æ¥æ± è€—å°½å¤„ç†
   - TEST-U-004: é…ç½®è‡ªåŠ¨ä¿®æ­£

**æŠ€æœ¯è¦ç‚¹**:

- ä½¿ç”¨`Arc<Mutex<Vec<Connection>>>`ç®¡ç†è¿æ¥
- ä½¿ç”¨`tokio::sync::Semaphore`æ§åˆ¶å¹¶å‘
- ä½¿ç”¨`tokio::time::timeout`å®ç°è¶…æ—¶

**éªŒæ”¶æ ‡å‡†**:

- âœ“ æ‰€æœ‰å•å…ƒæµ‹è¯•é€šè¿‡
- âœ“ ä»£ç è¦†ç›–ç‡ > 85%
- âœ“ æ”¯æŒSQLite/PostgreSQL/MySQL

------

### TASK-003: SessionæŠ½è±¡å±‚ (âœ… å·²å®Œæˆ)

**ä¼˜å…ˆçº§**: P0
 **é¢„è®¡å·¥æ—¶**: 12å°æ—¶
 **è´Ÿè´£äºº**: æ ¸å¿ƒå¼€å‘ #2
 **ä¾èµ–**: TASK-002

**å­ä»»åŠ¡**:

-  å®ç°Sessionç»“æ„ âœ… å·²å®ç° - Sessionç»“æ„å®šä¹‰åœ¨ pool/mod.rs ä¸­ï¼ˆéç‹¬ç«‹ session/mod.rs æ¨¡å—ï¼‰
-  å®ç°RAIIç”Ÿå‘½å‘¨æœŸç®¡ç† âœ… å·²å®ç° - Dropå®ç°å®Œæ•´ï¼ŒåŒ…å«è‡ªåŠ¨å›æ»š
   - è¿æ¥å½’è¿˜ âœ… å·²å®ç°
   - è‡ªåŠ¨å›æ»š âœ… å·²å®ç° - Dropä¸­æ£€æµ‹æœªæäº¤äº‹åŠ¡å¹¶å›æ»š
-  å®ç°æŸ¥è¯¢æ‰§è¡Œæ–¹æ³• âš ï¸ éƒ¨åˆ†å®ç°
   - æƒé™æ£€æŸ¥é›†æˆç‚¹ âœ… å·²å®ç° - check_permission() æ–¹æ³•
   - Metricsè®°å½•é›†æˆç‚¹ âœ… å·²å®ç° - record_query_metrics() æ–¹æ³•
-  å®ç°äº‹åŠ¡æ”¯æŒ âœ… å·²å®ç° - ä½¿ç”¨ Sea-ORM çš„çœŸå®äº‹åŠ¡ API
   - `begin_transaction(&mut self) -> Result<()>` âœ… å·²å®ç° - è°ƒç”¨çœŸå®æ•°æ®åº“äº‹åŠ¡
   - `commit(&mut self) -> Result<()>` âœ… å·²å®ç° - æäº¤çœŸå®æ•°æ®åº“äº‹åŠ¡
   - `rollback(&mut self) -> Result<()>` âœ… å·²å®ç° - å›æ»šçœŸå®æ•°æ®åº“äº‹åŠ¡
   - `transaction<F, T, E>(&mut self, f: F)` âœ… å·²å®ç° - æ¨èçš„äº‹åŠ¡ä½¿ç”¨æ–¹å¼ï¼Œè‡ªåŠ¨æäº¤/å›æ»š
-  å®ç°å†™åè¯»è¿½è¸ª âœ… å·²å®ç°
   - `mark_write(&mut self)` âœ… å·²å®ç°
   - `should_use_master(&self) -> bool` âœ… å·²å®ç°

**éªŒæ”¶æ ‡å‡†**:

- âœ“ RAIIæµ‹è¯•é€šè¿‡ (æ— è¿æ¥æ³„æ¼) âš ï¸ æœªéªŒè¯
- âœ“ äº‹åŠ¡éš”ç¦»æµ‹è¯•é€šè¿‡ âš ï¸ æœªéªŒè¯
- âœ“ ä¸è¿æ¥æ± æ­£ç¡®é›†æˆ âœ… å·²å®ç°

**å®ç°æ–‡ä»¶**: [pool/mod.rs](file:///home/project/dbnexus/dbnexus/src/pool/mod.rs)

**æ£€æŸ¥ç»“æœ**:
- Sessionç»“æ„å®šä¹‰å®Œæ•´ âœ…
- äº‹åŠ¡åŠŸèƒ½ä½¿ç”¨ Sea-ORM çš„çœŸå®äº‹åŠ¡ API (DatabaseTransaction) âœ…
- RAII Dropå®ç°å®Œæ•´ âœ…
- begin_transaction/commit/rollback æ–¹æ³•è°ƒç”¨çœŸå®æ•°æ®åº“äº‹åŠ¡ âœ…
- transaction() æ–¹æ³•ä½œä¸ºæ¨èçš„äº‹åŠ¡ä½¿ç”¨æ–¹å¼ï¼Œè‡ªåŠ¨æäº¤/å›æ»š âœ…
- should_use_master() å®ç°æ­£ç¡®ï¼Œlast_write æ­£ç¡®æ›´æ–° âœ…
- check_permission() æ–¹æ³•å®ç°å®Œæ•´ âœ…
- Session å®é™…å®ç°åœ¨ pool/mod.rs ä¸­ï¼Œsession/ ç›®å½•å·²åˆ é™¤ âœ…

------

### TASK-004: æƒé™æ§åˆ¶æ¨¡å— (âœ… å·²å®Œæˆ)

**ä¼˜å…ˆçº§**: P0
 **é¢„è®¡å·¥æ—¶**: 16å°æ—¶
 **è´Ÿè´£äºº**: æ ¸å¿ƒå¼€å‘ #2
 **ä¾èµ–**: TASK-003

**å­ä»»åŠ¡**:

-  å®šä¹‰æƒé™é…ç½®ç»“æ„ âœ… å·²å®ç° - Operation/TablePermission/RolePolicy/PermissionConfigå®Œæ•´å®šä¹‰
-  å®ç°YAMLé…ç½®è§£æå™¨ âœ… å·²å®ç° - from_yaml()ä½¿ç”¨serde_yamlå®ç°
   - ä½¿ç”¨serde_yaml âœ… å·²å®ç°
   - éªŒè¯é…ç½®å®Œæ•´æ€§ âš ï¸ éƒ¨åˆ†å®ç° - æ— é…ç½®å®Œæ•´æ€§éªŒè¯
   - æ”¯æŒé€šé…ç¬¦å±•å¼€ âœ… å·²å®ç° - ç®€å•å­—ç¬¦ä¸²æ¯”è¾ƒæ”¯æŒ"*"
-  å®ç°PermissionContext âœ… å·²å®ç° - ç»“æ„å’Œæ–¹æ³•å®Œæ•´
   - `check_table_access(&self, table: &str, op: Operation) -> bool` âœ… å·²å®ç°
-  å®ç°æƒé™å®ˆå« âœ… å·²å®ç° - Session.check_permission() æ–¹æ³•
   - åœ¨Session.execute()ä¸­è‡ªåŠ¨è°ƒç”¨ âš ï¸ éƒ¨åˆ†å®ç° - éœ€è¦ç”¨æˆ·æ˜¾å¼è°ƒç”¨
   - æ€§èƒ½ä¼˜åŒ– (ç¼“å­˜ç­–ç•¥) âš ï¸ éƒ¨åˆ†å®ç° - policy_cacheå­˜åœ¨ä½†æ— LRU/è¿‡æœŸæœºåˆ¶
-  å®šä¹‰æƒé™é”™è¯¯ç±»å‹ âœ… å·²å®ç° - DbError::Permission

**éªŒæ”¶æ ‡å‡†**:

- âœ“ TEST-U-010: æƒé™é…ç½®åŠ è½½ âœ… å·²å®ç°
- âœ“ TEST-U-011: Sessionæƒé™æ£€æŸ¥ âœ… å·²å®ç°
- âœ“ æƒé™æ£€æŸ¥å¼€é”€ < 0.1ms âš ï¸ æœªéªŒè¯

**å®ç°æ–‡ä»¶**: [permission/mod.rs](file:///home/project/dbnexus/dbnexus/src/permission/mod.rs)

**æ£€æŸ¥ç»“æœ**:
- æ‰€æœ‰æƒé™ç»“æ„å®šä¹‰å®Œæ•´ âœ…
- YAMLè§£æåŠŸèƒ½å®ç°å®Œæ•´ âœ…
- PermissionContextå®ç°å®Œæ•´ âœ…
- check_table_access() è¿”å› bool ç±»å‹ âœ…
- Session.check_permission() æ–¹æ³•å®ç°å®Œæ•´ âœ…
- å•å…ƒæµ‹è¯• âœ… - 4ä¸ªæµ‹è¯•é€šè¿‡

------

### TASK-005: ç¬¬1å±‚å® - Entityæ˜ å°„ (âœ… å·²å®Œæˆ)

**ä¼˜å…ˆçº§**: P0
 **é¢„è®¡å·¥æ—¶**: 12å°æ—¶
 **è´Ÿè´£äºº**: æ ¸å¿ƒå¼€å‘ #1
 **ä¾èµ–**: TASK-001

**å­ä»»åŠ¡**:

-  åˆ›å»ºproc-macro crate âœ… å·²å®ç°

```toml
  [lib]
  proc-macro = true

  [dependencies]
  syn = { version = "2", features = ["full"] }
  quote = "1"
  proc-macro2 = "1"
```

-  å®ç°#[derive(DbEntity)]å® âœ… å·²å®ç°

```rust
  #[proc_macro_derive(DbEntity, attributes(db_entity, table_name, primary_key))]
  pub fn derive_db_entity(input: TokenStream) -> TokenStream {
      // è§£æstruct
      // éªŒè¯primary_keyå­˜åœ¨
      // éªŒè¯table_nameå­˜åœ¨
      // ç”ŸæˆEntityTraitå®ç°
  }
```

-  æ¨èç”¨æˆ·ä½¿ç”¨æ–¹å¼ (ä½¿ç”¨ #[derive(DbEntity)] + helper attributes) âœ… å·²å®ç°

```rust
  #[derive(DbEntity)]        // ä¸»derive
  #[db_entity]               // helper attribute (å¯é€‰)
  #[table_name = "users"]    // helper attribute
  struct User {
      #[primary_key]         // field attribute
      id: i64,
      name: String,
  }
```

-  å®ç°ç¼–è¯‘æ—¶æ£€æŸ¥ âœ… å·²å®ç°
   - å¿…é¡»æœ‰ä¸€ä¸ª#[primary_key]å­—æ®µ
   - å¿…é¡»æœ‰#[table_name]å±æ€§
   - å­—æ®µç±»å‹å¿…é¡»æ˜¯Sea-ORMæ”¯æŒçš„ç±»å‹
-  ç”Ÿæˆè¾…åŠ©æ–¹æ³• âœ… å·²å®ç°

```rust
  impl User {
      pub fn table_name() -> &'static str { "users" }
      pub fn primary_key_column() -> &'static str { "id" }
  }
```

**æŠ€æœ¯è¦ç‚¹**:

- ä½¿ç”¨syn::parseè§£æè¯­æ³•æ ‘
- ä½¿ç”¨quote!å®ç”Ÿæˆä»£ç 
- é”™è¯¯ä¿¡æ¯ç”¨syn::Errorç”Ÿæˆ,æŒ‡å‘å…·ä½“ä½ç½®

**éªŒæ”¶æ ‡å‡†**:

- âœ“ TEST-U-020: Entityå®å±•å¼€ âš ï¸ æœªå®ç°
- âœ“ TEST-U-022: ä¸»é”®ç¼ºå¤±ç¼–è¯‘é”™è¯¯ âœ… å·²å®ç°
- âœ“ `cargo expand`å±•å¼€ä»£ç å¯è¯» âœ… å·²å®ç°

**å®ç°æ–‡ä»¶**: [dbnexus-macros/src/lib.rs](file:///home/project/dbnexus/dbnexus-macros/src/lib.rs)

------

### TASK-006: ç¬¬2å±‚å® - CRUDç”Ÿæˆ (âœ… å·²å®Œæˆ)

**ä¼˜å…ˆçº§**: P0
 **é¢„è®¡å·¥æ—¶**: 16å°æ—¶
 **è´Ÿè´£äºº**: æ ¸å¿ƒå¼€å‘ #1
 **ä¾èµ–**: TASK-005

**å­ä»»åŠ¡**:

-  å®ç°#[db_crud]å® âœ… å·²å®ç°

```rust
  #[proc_macro_attribute]
  pub fn db_crud(args: TokenStream, input: TokenStream) -> TokenStream {
      // ç”Ÿæˆinsert/find_by_id/update/deleteæ–¹æ³•
  }
```

-  ç”Ÿæˆinsertæ–¹æ³• âœ… å·²å®ç°

```rust
  pub async fn insert(session: &Session, entity: Self) -> Result<Self> {
      Self::check_permission(session.permission_ctx())?;
      session.mark_write();
      session.execute(/* Sea-ORM insert */).await
  }
```

-  ç”Ÿæˆfind_by_idæ–¹æ³• âœ… å·²å®ç°

```rust
  pub async fn find_by_id(session: &Session, id: <PK Type>) -> Result<Option<Self>> {
      Self::check_permission(session.permission_ctx())?;
      session.execute(/* Sea-ORM find */).await
  }
```

-  ç”Ÿæˆupdateæ–¹æ³• âœ… å·²å®ç°
-  ç”Ÿæˆdeleteæ–¹æ³• âœ… å·²å®ç°
-  ç”Ÿæˆæ‰¹é‡æ“ä½œæ–¹æ³• âœ… å·²å®ç°
   - find_all
   - delete_many
   - count

**æŠ€æœ¯è¦ç‚¹**:

- è‡ªåŠ¨æ¨æ–­ä¸»é”®ç±»å‹
- ç”Ÿæˆçš„ä»£ç åŒ…å«æƒé™æ£€æŸ¥
- ç”Ÿæˆçš„ä»£ç åŒ…å«å†™æ“ä½œæ ‡è®°
- æ–¹æ³•ç­¾åä¿æŒç®€æ´

**éªŒæ”¶æ ‡å‡†**:

- âœ“ TEST-U-021: CRUDå®å±•å¼€ âš ï¸ æœªå®ç°
- âœ“ ç”Ÿæˆçš„æ–¹æ³•å¯æ­£å¸¸è°ƒç”¨ âœ… å·²å®ç°
- âœ“ ä¸Sessionæ­£ç¡®é›†æˆ âœ… å·²å®ç°

**å®ç°æ–‡ä»¶**: [dbnexus-macros/src/lib.rs](file:///home/project/dbnexus/dbnexus-macros/src/lib.rs)

------

### TASK-007: ç¬¬3å±‚å® - æƒé™å£°æ˜ (âœ… å·²å®Œæˆ)

**ä¼˜å…ˆçº§**: P1
 **é¢„è®¡å·¥æ—¶**: 8å°æ—¶
 **è´Ÿè´£äºº**: æ ¸å¿ƒå¼€å‘ #2
 **ä¾èµ–**: TASK-004, TASK-006

**å­ä»»åŠ¡**:

-  å®ç°#[db_permission]å® âœ… å·²å®ç°

```rust
  #[proc_macro_attribute]
  pub fn db_permission(args: TokenStream, input: TokenStream) -> TokenStream {
      // è§£ærolesåˆ—è¡¨
      // ç”Ÿæˆcheck_permissionæ–¹æ³•
      // ç¼–è¯‘æ—¶éªŒè¯è§’è‰²å­˜åœ¨
  }
```

-  å®ç°ç¼–è¯‘æ—¶è§’è‰²éªŒè¯ âš ï¸ éƒ¨åˆ†å®ç°
   - è¯»å–permissions.yaml âŒ æœªå®ç°
   - æ£€æŸ¥è§’è‰²æ˜¯å¦å®šä¹‰ âŒ æœªå®ç°
   - ç”Ÿæˆç¼–è¯‘é”™è¯¯(å¦‚æœè§’è‰²ä¸å­˜åœ¨) âŒ æœªå®ç°
-  ç”Ÿæˆæƒé™æ£€æŸ¥æ–¹æ³• âœ… å·²å®ç°

```rust
  impl User {
      const ALLOWED_ROLES: &'static [&'static str] = &["admin", "user"];

      fn check_permission(ctx: &PermissionContext) -> Result<()> {
          if !Self::ALLOWED_ROLES.contains(&ctx.role()) {
              return Err(PermissionError::RoleNotAllowed {
                  entity: "User",
                  role: ctx.role().to_string(),
                  allowed: Self::ALLOWED_ROLES.to_vec(),
              });
          }
          Ok(())
      }
  }
```

**æŠ€æœ¯è¦ç‚¹**:

- ä½¿ç”¨compile-timeæ–‡ä»¶è¯»å– (include_str!) - âŒ æœªå®ç°
- è§£æYAMLéœ€åœ¨å®ä¸­å®Œæˆ - âš ï¸ éƒ¨åˆ†å®ç°
- é”™è¯¯æç¤ºå‹å¥½ (åˆ—å‡ºå¯ç”¨è§’è‰²) - âœ… å·²å®ç°

**éªŒæ”¶æ ‡å‡†**:

- âœ“ TEST-U-012: ç¼–è¯‘æ—¶è§’è‰²éªŒè¯ âš ï¸ éƒ¨åˆ†å®ç°
- âœ“ é”™è¯¯ä¿¡æ¯åŒ…å«å¯ç”¨è§’è‰²åˆ—è¡¨ âœ… å·²å®ç°
- âœ“ ä¸CRUDå®é›†æˆæ­£ç¡® âœ… å·²å®ç°

**å®ç°æ–‡ä»¶**: [dbnexus-macros/src/lib.rs](file:///home/project/dbnexus/dbnexus-macros/src/lib.rs)

------

### TASK-008: åŸºç¡€æµ‹è¯•å¥—ä»¶ (âš ï¸ éƒ¨åˆ†å®Œæˆ)

**ä¼˜å…ˆçº§**: P1
 **é¢„è®¡å·¥æ—¶**: 16å°æ—¶
 **è´Ÿè´£äºº**: æµ‹è¯•å·¥ç¨‹å¸ˆ
 **ä¾èµ–**: TASK-002~007

**å­ä»»åŠ¡**:

-  æ­å»ºæµ‹è¯•æ¡†æ¶ âœ… å·²å®ç°
   - é…ç½®test-fixtures âš ï¸ éƒ¨åˆ†å®ç° - ä½¿ç”¨å†…ç½®æµ‹è¯•æ¨¡å—
   - åˆ›å»ºæµ‹è¯•æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬ âš ï¸ éƒ¨åˆ†å®ç° - SQLiteå†…å­˜æµ‹è¯•
   - å®ç°æµ‹è¯•è¾…åŠ©å‡½æ•° âš ï¸ éƒ¨åˆ†å®ç°
-  ç¼–å†™å•å…ƒæµ‹è¯• (24ä¸ª) âœ… å·²å®ç°
   - è¿æ¥æ± æµ‹è¯• (4ä¸ª) âœ… - TEST-U-020~023
   - æƒé™æ§åˆ¶æµ‹è¯• (9ä¸ª) âœ… - TEST-U-010~014 åŠæ›´å¤š
   - é…ç½®æµ‹è¯• (2ä¸ª) âœ… - TEST-U-001~002
   - metrics æµ‹è¯• (4ä¸ª) âœ…
   - migration æµ‹è¯• (4ä¸ª) âœ…
   - generated_roles æµ‹è¯• (1ä¸ª) âœ…
-  ç¼–å†™é›†æˆæµ‹è¯• (0ä¸ª) âŒ æœªå®ç°
   - å®Œæ•´CRUDæµç¨‹ âŒ æœªå®ç°
   - è·¨è§’è‰²æƒé™ âŒ æœªå®ç°
   - äº‹åŠ¡æäº¤å›æ»š âš ï¸ éƒ¨åˆ†å®ç° - æœ‰äº‹åŠ¡APIä½†æ— æµ‹è¯•
-  é…ç½®ä»£ç è¦†ç›–ç‡å·¥å…· âŒ æœªå®ç°
   - ä½¿ç”¨tarpaulinæˆ–llvm-cov âŒ æœªé…ç½®
   - ç”ŸæˆHTMLæŠ¥å‘Š âŒ æœªé…ç½®
   - è®¾ç½®æœ€ä½è¦†ç›–ç‡é˜ˆå€¼ (75%) âŒ æœªè®¾ç½®

**éªŒæ”¶æ ‡å‡†**:

- âœ“ æ‰€æœ‰æµ‹è¯•é€šè¿‡ âœ… - 24ä¸ªæµ‹è¯•å…¨éƒ¨é€šè¿‡
- âœ“ ä»£ç è¦†ç›–ç‡ > 75% âš ï¸ æœªéªŒè¯
- âœ“ CIä¸­è‡ªåŠ¨è¿è¡Œ âœ… å·²é…ç½® (.github/workflows/ci.yml)

------

### TASK-009: åŸºç¡€æ–‡æ¡£ (âš ï¸ éƒ¨åˆ†å®Œæˆ)

**ä¼˜å…ˆçº§**: P1
 **é¢„è®¡å·¥æ—¶**: 12å°æ—¶
 **è´Ÿè´£äºº**: æ–‡æ¡£å·¥ç¨‹å¸ˆ
 **ä¾èµ–**: TASK-002~007

**å­ä»»åŠ¡**:

-  ç¼–å†™README.md (âŒ æœªå®ç°)
   - é¡¹ç›®ä»‹ç»
   - å¿«é€Ÿå¼€å§‹ (5åˆ†é’Ÿæ•™ç¨‹)
   - å®‰è£…è¯´æ˜
   - Feature flagsè¯´æ˜
-  ç¼–å†™APIæ–‡æ¡£
   - æ‰€æœ‰å…¬å¼€ç»“æ„ä½“rustdocæ³¨é‡Š
   - æ‰€æœ‰å…¬å¼€æ–¹æ³•rustdocæ³¨é‡Š
   - åŒ…å«ä½¿ç”¨ç¤ºä¾‹
-  ç¼–å†™ç¤ºä¾‹ä»£ç 
   - examples/quickstart.rs âœ… å·²å­˜åœ¨ (62è¡Œå®Œæ•´ç¤ºä¾‹)
   - examples/permissions.rs âŒ æœªå®ç°
   - examples/transactions.rs âŒ æœªå®ç°
-  ç¼–å†™é…ç½®æ–‡æ¡£
   - config.yamlæ¨¡æ¿
   - æ‰€æœ‰é…ç½®é¡¹è¯´æ˜
   - å¸¸è§é…ç½®åœºæ™¯

**éªŒæ”¶æ ‡å‡†**:

- âœ“ `cargo doc --no-deps` æ— è­¦å‘Š
- âœ“ ç¤ºä¾‹ä»£ç å¯è¿è¡Œ
- âœ“ æ–°æ‰‹å¯æŒ‰READMEå®Œæˆé›†æˆ

------

## 3. Phase 2: Production Ready (Week 5-8)

### TASK-010: Migrationå·¥å…·æ ¸å¿ƒ

**ä¼˜å…ˆçº§**: P0
 **é¢„è®¡å·¥æ—¶**: 24å°æ—¶
 **è´Ÿè´£äºº**: å·¥å…·å¼€å‘
 **ä¾èµ–**: Phase 1å®Œæˆ

**å­ä»»åŠ¡**:

-  å®ç°SchemaæŠ½è±¡

```rust
  pub struct Schema {
      tables: Vec<Table>,
  }
  
  pub struct Table {
      name: String,
      columns: Vec<Column>,
      indexes: Vec<Index>,
      foreign_keys: Vec<ForeignKey>,
  }
```

-  å®ç°ä»Rust structæå–Schema

```rust
  impl Schema {
      pub fn from_entities(entities: &[Entity]) -> Self;
  }
```

-  å®ç°ä»æ•°æ®åº“æŸ¥è¯¢Schema
   - PostgreSQL: information_schema
   - MySQL: SHOW TABLES/COLUMNS
   - SQLite: sqlite_master
-  å®ç°SchemaDiffer

```rust
  pub fn diff(&self, old: &Schema, new: &Schema) -> Vec<Migration>;
```

- æ£€æµ‹æ–°å¢è¡¨
- æ£€æµ‹æ–°å¢/åˆ é™¤åˆ—
- æ£€æµ‹åˆ—ç±»å‹å˜æ›´
- æ£€æµ‹ç´¢å¼•å˜æ›´
- æ£€æµ‹å¤–é”®å˜æ›´
- å®ç°SQLç”Ÿæˆå™¨
  - PostgreSQLæ–¹è¨€
  - MySQLæ–¹è¨€
  - SQLiteæ–¹è¨€
- å®ç°Migrationæ‰§è¡Œå™¨
  - ç‰ˆæœ¬ç®¡ç†
  - äº‹åŠ¡æ‰§è¡Œ
  - å†å²è®°å½•

**æŠ€æœ¯è¦ç‚¹**:

- ä½¿ç”¨sea-orm-migrationåº“
- æ”¯æŒå¤æ‚ç´¢å¼• (è”åˆã€éƒ¨åˆ†ã€å”¯ä¸€)
- å¤–é”®çº¦æŸå¤„ç†

**éªŒæ”¶æ ‡å‡†**:

- âœ“ TEST-U-030: Schema Diffæ£€æµ‹
- âœ“ TEST-U-031: SQLç”Ÿæˆ(è¦†ç›–PostgreSQL/MySQL/SQLiteä¸‰ç§æ–¹è¨€)
- âœ“ TEST-U-032: Migrationæ‰§è¡Œ
- âœ“ æ”¯æŒä¸‰ç§æ•°æ®åº“

------

### TASK-011: Migration CLIå·¥å…·

**ä¼˜å…ˆçº§**: P1
 **é¢„è®¡å·¥æ—¶**: 12å°æ—¶
 **è´Ÿè´£äºº**: å·¥å…·å¼€å‘
 **ä¾èµ–**: TASK-010

**å­ä»»åŠ¡**:

-  åˆ›å»ºCLI crate

```toml
  [dependencies]
  clap = { version = "4", features = ["derive"] }
```

-  å®ç°å‘½ä»¤ç»“æ„

```rust
  enum Command {
      Generate { name: String },
      Up,
      Down,
      Status,
      Reset,
  }
```

-  å®ç°generateå‘½ä»¤
   - æ‰«æé¡¹ç›®ä¸­çš„Entity
   - æå–Schema
   - å¯¹æ¯”æ•°æ®åº“Schema
   - ç”Ÿæˆmigrationæ–‡ä»¶
-  å®ç°upå‘½ä»¤
   - æ‰§è¡Œæœªåº”ç”¨çš„migration
   - æ›´æ–°å†å²è¡¨
-  å®ç°statuså‘½ä»¤
   - æ˜¾ç¤ºå·²åº”ç”¨çš„migration
   - æ˜¾ç¤ºå¾…åº”ç”¨çš„migration
-  å®ç°å½©è‰²è¾“å‡º
   - ä½¿ç”¨coloredåº“
   - å‹å¥½çš„è¿›åº¦æç¤º

**éªŒæ”¶æ ‡å‡†**:

- âœ“ `cargo db-migrate --help`è¾“å‡ºæ¸…æ™°
- âœ“ æ‰€æœ‰å‘½ä»¤æ­£å¸¸å·¥ä½œ
- âœ“ é”™è¯¯æç¤ºå‹å¥½

------

### TASK-012: Metricsæ”¶é›†å™¨

**ä¼˜å…ˆçº§**: P0
 **é¢„è®¡å·¥æ—¶**: 16å°æ—¶
 **è´Ÿè´£äºº**: æ ¸å¿ƒå¼€å‘ #1
 **ä¾èµ–**: Phase 1å®Œæˆ

**å­ä»»åŠ¡**:

-  å®ç°MetricsCollector

```rust
  pub struct MetricsCollector {
      query_duration: Arc<RwLock<HashMap<(String, String), Histogram>>>,
      pool_connections: Arc<AtomicU32>,
      pool_active: Arc<AtomicU32>,
      pool_idle: Arc<AtomicU32>,
      connection_errors: Arc<AtomicU64>,
      query_errors: Arc<AtomicU64>,
      slow_queries: Arc<AtomicU64>,
      slow_threshold: Duration,
  }
```

-  å®ç°Histogramæ•°æ®ç»“æ„
   - ä½¿ç”¨reservoir sampling
   - è®¡ç®—p50/p95/p99
   - å†…å­˜å ç”¨å¯æ§
-  å®ç°é‡‡æ ·ç­–ç•¥
   - é«˜é¢‘æŸ¥è¯¢10%é‡‡æ ·
   - æ…¢æŸ¥è¯¢100%è®°å½•
-  å®ç°Prometheuså¯¼å‡ºå™¨

```rust
  pub fn export_prometheus(&self) -> String;
```

- æ ¼å¼ç¬¦åˆPrometheusè§„èŒƒ
- åŒ…å«æ‰€æœ‰æŒ‡æ ‡
- æ”¯æŒlabels
- é›†æˆåˆ°Session
  - æŸ¥è¯¢å‰start timer
  - æŸ¥è¯¢årecord duration
  - é”™è¯¯æ—¶increment counter

**æŠ€æœ¯è¦ç‚¹**:

- ä½¿ç”¨æ— é”æ•°æ®ç»“æ„ (AtomicU64)
- Histogramç”¨RwLockä¿æŠ¤
- å¯¼å‡ºæ—¶å¿«ç…§æ•°æ®

**éªŒæ”¶æ ‡å‡†**:

- âœ“ TEST-U-040: æŸ¥è¯¢å»¶è¿Ÿç»Ÿè®¡
- âœ“ TEST-U-041: æ…¢æŸ¥è¯¢ç»Ÿè®¡
- âœ“ TEST-U-042: è¿æ¥æ± çŠ¶æ€ç›‘æ§
- âœ“ Prometheusæ ¼å¼éªŒè¯é€šè¿‡

------

### TASK-013: å®Œæ•´æµ‹è¯•å¥—ä»¶

**ä¼˜å…ˆçº§**: P0
 **é¢„è®¡å·¥æ—¶**: 24å°æ—¶
 **è´Ÿè´£äºº**: æµ‹è¯•å·¥ç¨‹å¸ˆ
 **ä¾èµ–**: TASK-010~012

**å­ä»»åŠ¡**:

-  è¡¥å……å•å…ƒæµ‹è¯• (è¦†ç›–æ–°æ¨¡å—)
   - Migrationæµ‹è¯• (3ä¸ª)
   - Metricsæµ‹è¯• (3ä¸ª)
-  ç¼–å†™é›†æˆæµ‹è¯• (5ä¸ª)
   - Migrationå®Œæ•´æµç¨‹
   - Metricsç«¯åˆ°ç«¯
   - è·¨æ•°æ®åº“å…¼å®¹æ€§
-  ç¼–å†™æ€§èƒ½æµ‹è¯• (2ä¸ª)
   - å¹¶å‘è¿æ¥è·å–
   - æƒé™æ£€æŸ¥å¼€é”€
-  é…ç½®å‹åŠ›æµ‹è¯•
   - ä½¿ç”¨criterion.rs
   - åŸºå‡†æµ‹è¯•å…³é”®è·¯å¾„
   - æ€§èƒ½å›å½’æ£€æµ‹

**éªŒæ”¶æ ‡å‡†**:

- âœ“ ä»£ç è¦†ç›–ç‡ > 80%
- âœ“ æ‰€æœ‰æ€§èƒ½åŸºå‡†é€šè¿‡
- âœ“ å‹æµ‹æ— panic

------

### TASK-014: ç”Ÿäº§æ–‡æ¡£

**ä¼˜å…ˆçº§**: P1
 **é¢„è®¡å·¥æ—¶**: 16å°æ—¶
 **è´Ÿè´£äºº**: æ–‡æ¡£å·¥ç¨‹å¸ˆ
 **ä¾èµ–**: TASK-010~012

**å­ä»»åŠ¡**:

-  ç¼–å†™MigrationæŒ‡å—
   - å·¥ä½œæµç¨‹è¯´æ˜
   - æœ€ä½³å®è·µ
   - å¸¸è§é—®é¢˜
-  ç¼–å†™Metricsé›†æˆæŒ‡å—
   - Prometheusé›†æˆç¤ºä¾‹
   - Grafana dashboardæ¨¡æ¿
   - å‘Šè­¦è§„åˆ™ç¤ºä¾‹
-  ç¼–å†™æ€§èƒ½è°ƒä¼˜æŒ‡å—
   - è¿æ¥æ± é…ç½®å»ºè®®
   - æŸ¥è¯¢ä¼˜åŒ–æŠ€å·§
   - ç›‘æ§æŒ‡æ ‡è§£è¯»
-  ç¼–å†™æ•…éšœæ’æŸ¥æŒ‡å—
   - å¸¸è§é”™è¯¯åŠè§£å†³æ–¹æ¡ˆ
   - æ—¥å¿—åˆ†æ
   - è°ƒè¯•æŠ€å·§
-  å½•åˆ¶è§†é¢‘æ•™ç¨‹ (å¯é€‰)
   - å¿«é€Ÿä¸Šæ‰‹ (5åˆ†é’Ÿ)
   - Migrationä½¿ç”¨ (10åˆ†é’Ÿ)

**éªŒæ”¶æ ‡å‡†**:

- âœ“ æ‰€æœ‰æ–‡æ¡£é“¾æ¥æ— 404
- âœ“ ä»£ç ç¤ºä¾‹å¯è¿è¡Œ
- âœ“ Grafana dashboardå¯å¯¼å…¥

------

## 4. Phase 3: Enterprise Features (Week 9-12)

### TASK-015: è¯»å†™åˆ†ç¦» (v2.0é¢„ç•™)

**ä¼˜å…ˆçº§**: P2
 **é¢„è®¡å·¥æ—¶**: 24å°æ—¶

**å­ä»»åŠ¡**:

-  æ‰©å±•PoolConfigæ”¯æŒå¤šä»åº“
-  å®ç°è·¯ç”±ç­–ç•¥
-  å®ç°ç‰ˆæœ¬å·æœºåˆ¶ä¼˜åŒ–
-  è´Ÿè½½å‡è¡¡ç®—æ³•

### TASK-016: æ—¶é—´åˆ†ç‰‡ (v2.0é¢„ç•™)

**ä¼˜å…ˆçº§**: P2
 **é¢„è®¡å·¥æ—¶**: 32å°æ—¶

**å­ä»»åŠ¡**:

-  å®ç°åˆ†ç‰‡è·¯ç”±å™¨
-  æ‰©å±•å®æ”¯æŒ#[db_shard]
-  å®ç°è·¨åˆ†ç‰‡æŸ¥è¯¢
-  å…¨å±€ç´¢å¼•è¡¨è®¾è®¡

### TASK-017: é«˜çº§å®å±‚ (v2.0é¢„ç•™)

**ä¼˜å…ˆçº§**: P3
 **é¢„è®¡å·¥æ—¶**: 40å°æ—¶

**å­ä»»åŠ¡**:

-  ç¬¬4å±‚: ç¼“å­˜ç­–ç•¥
-  ç¬¬5å±‚: å®¡è®¡æ—¥å¿—
-  ç¬¬6å±‚: å¤šç§Ÿæˆ·
-  ç¬¬7å±‚: åˆ†ç‰‡è§„åˆ™

------

## 5. å¼€å‘è§„èŒƒ

### 5.1 ä»£ç è§„èŒƒ

```rust
// å‘½åè§„èŒƒ
pub struct MyStruct { }     // PascalCase for types
pub fn my_function() { }    // snake_case for functions
const MY_CONSTANT: u32 = 1; // SCREAMING_SNAKE_CASE for constants

// é”™è¯¯å¤„ç†
use thiserror::Error;
#[derive(Debug, Error)]
pub enum MyError {
    #[error("æè¿°: {0}")]
    Variant(String),
}

// æ–‡æ¡£æ³¨é‡Š
/// å‡½æ•°ç®€çŸ­æè¿°
///
/// # Examples
/// ```
/// let result = my_function();
/// assert_eq!(result, 42);
/// ```
///
/// # Errors
/// è¿”å›é”™è¯¯çš„æƒ…å†µè¯´æ˜
pub fn my_function() -> Result<i32> { }

// å¯¼å…¥é¡ºåº
use std::*;         // æ ‡å‡†åº“
                    // ç©ºè¡Œ
use external_crate; // å¤–éƒ¨crate
                    // ç©ºè¡Œ
use crate::*;       // å½“å‰crate
```

### 5.2 Gitæäº¤è§„èŒƒ

```
<type>(<scope>): <subject>

<body>

<footer>

# Typeç±»å‹:
feat:     æ–°åŠŸèƒ½
fix:      Bugä¿®å¤
docs:     æ–‡æ¡£æ›´æ–°
style:    ä»£ç æ ¼å¼
refactor: é‡æ„
test:     æµ‹è¯•ç›¸å…³
chore:    æ„å»º/å·¥å…·

# ç¤ºä¾‹:
feat(pool): implement connection pooling

- Add PoolManager struct
- Implement connection acquire/release
- Add health check mechanism

Closes #123
```

### 5.3 Pull Requestè§„èŒƒ

**PRæ ‡é¢˜**: `[TASK-XXX] ç®€çŸ­æè¿°`

**PRæè¿°æ¨¡æ¿**:

```markdown
## å˜æ›´å†…å®¹
ç®€è¦æè¿°æœ¬PRçš„æ”¹åŠ¨

## ç›¸å…³Issue
Closes #123

## æµ‹è¯•
- [ ] å•å…ƒæµ‹è¯•é€šè¿‡
- [ ] é›†æˆæµ‹è¯•é€šè¿‡
- [ ] æ‰‹åŠ¨æµ‹è¯•å®Œæˆ

## Checklist
- [ ] ä»£ç ç¬¦åˆè§„èŒƒ
- [ ] æ·»åŠ äº†å¿…è¦çš„æ–‡æ¡£
- [ ] æ›´æ–°äº†CHANGELOG
```

### 5.4 ä»£ç å®¡æŸ¥æ¸…å•

**å®¡æŸ¥è€…æ£€æŸ¥é¡¹**:

-  ä»£ç é€»è¾‘æ­£ç¡®
-  é”™è¯¯å¤„ç†å®Œå–„
-  æ€§èƒ½æ— æ˜æ˜¾é—®é¢˜
-  æµ‹è¯•è¦†ç›–å……åˆ†
-  æ–‡æ¡£å®Œæ•´
-  å‘½åæ¸…æ™°
-  æ— unsafeä»£ç  (é™¤éå¿…è¦)

------

## 6. é£é™©ç®¡ç†

### 6.1 æŠ€æœ¯é£é™©

| é£é™©               | å¯èƒ½æ€§ | å½±å“ | åº”å¯¹æªæ–½               |
| ------------------ | ------ | ---- | ---------------------- |
| Sea-ORM APIå˜æ›´    | ä¸­     | é«˜   | é”å®šç‰ˆæœ¬,å…³æ³¨changelog |
| å®ç¼–è¯‘æ—¶é—´è¿‡é•¿     | ä½     | ä¸­   | å¢é‡ç¼–è¯‘ä¼˜åŒ–           |
| è·¨æ•°æ®åº“å…¼å®¹æ€§é—®é¢˜ | ä¸­     | é«˜   | å……åˆ†æµ‹è¯•ä¸‰ç§æ•°æ®åº“     |
| æ€§èƒ½ä¸è¾¾æ ‡         | ä½     | é«˜   | æ—©æœŸæ€§èƒ½æµ‹è¯•,æŒç»­ç›‘æ§  |

### 6.2 è¿›åº¦é£é™©

| é£é™©             | å¯èƒ½æ€§ | å½±å“ | åº”å¯¹æªæ–½            |
| ---------------- | ------ | ---- | ------------------- |
| å…³é”®å¼€å‘äººå‘˜ç¦»èŒ | ä½     | é«˜   | ä»£ç æ–‡æ¡£åŒ–,çŸ¥è¯†å…±äº« |
| éœ€æ±‚å˜æ›´         | ä¸­     | ä¸­   | æ•æ·è¿­ä»£,ä¼˜å…ˆçº§ç®¡ç† |
| ä¾èµ–åº“Bug        | ä¸­     | ä¸­   | é¢„ç•™bufferæ—¶é—´      |
| æµ‹è¯•å‘ç°é‡å¤§Bug  | ä¸­     | é«˜   | æ¯å‘¨é›†æˆæµ‹è¯•        |

------

## 7. é‡Œç¨‹ç¢‘æ£€æŸ¥ç‚¹

### Milestone 1: Phase 1 å®Œæˆ (Week 4æœ«)

**äº¤ä»˜ç‰©**:

-  è¿æ¥æ± ç®¡ç†
-  SessionæŠ½è±¡
-  æƒé™æ§åˆ¶
-  ä¸‰å±‚å®ç³»ç»Ÿ
-  åŸºç¡€æµ‹è¯•å¥—ä»¶
-  åŸºç¡€æ–‡æ¡£

**éªŒæ”¶æ ‡å‡†**:

-  æ‰€æœ‰P0ä»»åŠ¡å®Œæˆ
-  ç¤ºä¾‹ä»£ç å¯è¿è¡Œ
-  æµ‹è¯•è¦†ç›–ç‡ > 75%

### Milestone 2: Phase 2 å®Œæˆ (Week 8æœ«)

**äº¤ä»˜ç‰©**:

-  Migrationå·¥å…·
-  Metricsç³»ç»Ÿ
-  å®Œæ•´æµ‹è¯•å¥—ä»¶
-  ç”Ÿäº§æ–‡æ¡£

**éªŒæ”¶æ ‡å‡†**:

-  UATæµ‹è¯•é€šè¿‡
-  æ€§èƒ½æŒ‡æ ‡è¾¾æ ‡
-  æ–‡æ¡£å®Œæ•´

### Milestone 3: v1.0 Release (Week 12æœ«)

**äº¤ä»˜ç‰©**:

-  ç¨³å®šçš„v1.0ç‰ˆæœ¬
-  å®Œæ•´çš„crates.ioå‘å¸ƒ
-  ç”¨æˆ·æ‰‹å†Œ
-  ç¤ºä¾‹é¡¹ç›®

**éªŒæ”¶æ ‡å‡†**:

-  æ‰€æœ‰éªŒæ”¶æµ‹è¯•é€šè¿‡
-  æ— P0/P1 Bug
-  æ–‡æ¡£é½å…¨

------

## 8. å‘å¸ƒè®¡åˆ’

### 8.1 ç‰ˆæœ¬è§„åˆ’

- **v0.1.0-alpha**: Phase 1å®Œæˆå (Week 4)
- **v0.5.0-beta**: Phase 2å®Œæˆå (Week 8)
- **v1.0.0**: Phase 3å®Œæˆå (Week 12)

### 8.2 å‘å¸ƒChecklist

-  æ›´æ–°CHANGELOG.md
-  æ›´æ–°ç‰ˆæœ¬å· (Cargo.toml)
-  è¿è¡Œå®Œæ•´æµ‹è¯•å¥—ä»¶
-  ç”ŸæˆAPIæ–‡æ¡£
-  æ‰“Git tag
-  å‘å¸ƒåˆ°crates.io
-  å‘å¸ƒRelease notes
